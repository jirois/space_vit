<% layout('layout/boilerplate') %>
<div class="row mt-3">
  <div class="col-md-8 offset-3">
    <div class="card shadow-sm p-3 mb-5 bg-white rounded">
      <div class="card-body">
        <h5 class="card-title"><%= vitamin.name %></h5>
        <h6 class="card-subtitle mb-2 text-muted"><%= vitamin.dosage %></h6>
        <p class="card-text"><%= vitamin.company %></p>

        <table class="table table-success table-striped">
          <tr>
            <th>Constituent</th>
            <th>Strength</th>
            <th>% Eqv</th>
            <th>Info</th>
          </tr>
          <% for (constituent of vitamin.constituents) { %>

          <tr>
            <td><%= constituent.constituent %></td>
            <td><%= constituent.strength %></td>
            <td><%= constituent.eqv %></td>
            <td>
              <a
                href="/vitamins/<%= vitamin.id %>/constituent/<%= constituent.id %>"
                >details
              </a>
            </td>
          </tr>

          <% } %>
        </table>
        <% if (vitamin.others.length) {%>
        <h5 class="title">Other Constituents</h5>

        <ul class="list-group list-group-flush mb-3">
          <% for (other of vitamin.others) { %>
          <!-- <a href="/vitamins/<%= vitamin.id %>/others/<%= other.id %>"> -->
          <li class="list-group-item"><%= other.name %></li>
          <!-- </a> -->
          <% } %>
        </ul>
        <% } %>
        <a
          href="/vitamins/<%= vitamin.id %>/constituent/new"
          class="btn btn-success"
          >Add
        </a>

        <a href="/vitamins/<%= vitamin.id %>/edit" class="btn btn-dark">Edit</a>
        <form
          action="/vitamins/<%= vitamin._id %>?_method=DELETE"
          method="POST"
          class="d-inline"
        >
          <button class="btn btn-danger">Delete</button>
        </form>

        <a href="/vitamins/<%= vitamin.id %>/others/new" class="btn btn-success"
          >Add other
        </a>
      </div>
    </div>
  </div>
</div>
